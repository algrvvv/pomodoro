<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Статистика сессий</title>

  <link rel="stylesheet" href="/style.css">

  <script src="https://unpkg.com/htmx.org@1.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/index.js" defer></script>

</head>

<body>
  <div id="tooltip" class="tooltip"></div>

  <div class="container">
    <div class="stats">

      <div class="stats-block">
        <h3>Текущая сессия</h3>
        <span id="stats-stopwatch">
          <svg class="icon" viewBox="0 0 256 256">
            <line x1="128" y1="32" x2="128" y2="64" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
            </line>
            <line x1="195.9" y1="60.1" x2="173.3" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
              stroke-width="24"></line>
            <line x1="224" y1="128" x2="192" y2="128" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
            </line>
            <line x1="195.9" y1="195.9" x2="173.3" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
              stroke-width="24"></line>
            <line x1="128" y1="224" x2="128" y2="192" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
            </line>
            <line x1="60.1" y1="195.9" x2="82.7" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
              stroke-width="24"></line>
            <line x1="32" y1="128" x2="64" y2="128" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
            </line>
            <line x1="60.1" y1="60.1" x2="82.7" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
              stroke-width="24"></line>
          </svg>
        </span>
      </div>

      <div class="stats-block">
        <h3>Минут за месяц</h3>
        <span id="stats-total-minutes"></span>
      </div>

      <div class="stats-block">
        <h3>Минут за сутки</h3>
        <span id="stats-today-minutes"></span>
      </div>


      <div class="stats-block">
        <h3>Стрик дней</h3>

        <div class="streak-block">
          <div class="icon-block">
            <svg viewBox="-2.4 -2.4 28.80 28.80" width="64px" height="64px" fill="#8b5cf6"
              xmlns="http://www.w3.org/2000/svg" stroke="#000000">
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#8b5cf6"
                stroke-width="0.048"></g>
              <g id="SVGRepo_iconCarrier">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M12.0986 19.001C8.69856 19.001 5.99856 16.729 6.00556 13.492C5.98675 13.1702 6.01573 12.8474 6.09156 12.534C6.22356 11.944 6.54156 10.79 6.79856 9.89004C6.94556 9.37404 7.90456 9.14504 8.44656 9.29004C9.18756 9.49004 9.63956 8.85904 9.79256 8.14404C9.95999 7.32193 10.2502 6.52972 10.6536 5.79404C11.6036 4.10104 13.2786 5.40904 14.4336 6.98104C14.9071 7.59132 15.4505 8.14408 16.0526 8.62804C18.4526 11.036 18.7756 15.268 16.2046 17.516C15.0632 18.4959 13.6027 19.0241 12.0986 19.001Z"
                  stroke="#8b5cf6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              </g>
            </svg>
          </div>

          <span class="streak-days" id="streak"></span>
        </div>

      </div>
    </div>


    <div id="integrations">
      <div id="wakatime-integration" style="display: none">
        <div id="wakatime-content" class="stats" style="display: none">
          <div class="stats-block">
            <a class="link" href="https://wakatime.com/dashboard">Wakatime</a>
            <span id="wakatime-loadtime">Integration</span>
          </div>
          <div class="stats-block">
            <h3>Сегодня</h3>
            <span id="wakatime-today"></span>
          </div>
          <div class="stats-block">
            <h3>Неделя</h3>
            <span id="wakatime-week"></span>
          </div>
        </div>
        <div id="wakatime-loading" class="stats">
          <div aria-label="Loading..." role="status" class="loader">
            <svg class="icon" viewBox="0 0 256 256">
              <line x1="128" y1="32" x2="128" y2="64" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
              </line>
              <line x1="195.9" y1="60.1" x2="173.3" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="224" y1="128" x2="192" y2="128" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="195.9" y1="195.9" x2="173.3" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="128" y1="224" x2="128" y2="192" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="60.1" y1="195.9" x2="82.7" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="32" y1="128" x2="64" y2="128" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
              </line>
              <line x1="60.1" y1="60.1" x2="82.7" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
            </svg>
            <!-- <span class="loading-text">Загрузка...</span> -->
          </div>
        </div>
      </div>


      <div id="monkeytype-integration" style="display: none">
        <div id="monkeytype-content" class="stats" style="display: none">
          <div class="stats-block">
            <a class="link" href="https://monkeytype.com/">MonkeyType</a>
            <span id="monkeytype-loadtime">Integration</span>
          </div>
          <div class="stats-block">
            <h3>Сегодня</h3>
            <span id="monkeytype-todayTests"></span>
          </div>
          <div class="stats-block">
            <h3>Всего</h3>
            <span id="monkeytype-totalTests"></span>
          </div>
          <div class="stats-block">
            <h3>Время</h3>
            <span id="monkeytype-time"></span>
          </div>
        </div>
        <div id="monkeytype-loading" class="stats">
          <div aria-label="Loading..." role="status" class="loader">
            <svg class="icon" viewBox="0 0 256 256">
              <line x1="128" y1="32" x2="128" y2="64" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
              </line>
              <line x1="195.9" y1="60.1" x2="173.3" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="224" y1="128" x2="192" y2="128" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="195.9" y1="195.9" x2="173.3" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="128" y1="224" x2="128" y2="192" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="60.1" y1="195.9" x2="82.7" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="32" y1="128" x2="64" y2="128" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
              </line>
              <line x1="60.1" y1="60.1" x2="82.7" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
            </svg>
            <!-- <span class="loading-text">Загрузка...</span> -->
          </div>
        </div>
      </div>

    </div>

    <!-- Верхняя часть -->
    <div class="calendar-wrapper">
      <input type="month" class="month-calendar" id="calendar" />
    </div>
    <div class="wrapper">
      <div class="calendar">
        <h3>Достижение цели</h3>
        <div class="calendar-days"></div>
      </div>

      <div class="line-chart">
        <h3>Количество сессий за месяц</h3>
        <canvas id="lineChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- Нижняя часть -->
    <div class="sessions">
      <h3>Список всех сессий</h3>
      <ul></ul>
    </div>
  </div>

  <div class="time-container">
    <small id="time"></small>
  </div>
</body>

</html>
